@page
@model ChangePasswordModel
@{
    ViewData["Title"] = "Change Password";
    ViewData["ActivePage"] = ManageNavPages.ChangePassword;
}

<div class="center">
    <h1>@ViewData["Title"]</h1>
    <form id="change-password-form" method="post">
        <div class="txt_field">
            <input asp-for="Input.OldPassword" id="passwordField" autocomplete="current-password" required />
            <label asp-for="Input.OldPassword"></label>
            <span asp-validation-for="Input.OldPassword"></span>
        </div>
        <div class="txt_field">
            <input asp-for="Input.NewPassword" id="passwordField2" autocomplete="new-password" required />
            <label asp-for="Input.NewPassword" ></label>
            <span asp-validation-for="Input.NewPassword" ></span>
        </div>
        <div class="txt_field">
            <input asp-for="Input.ConfirmPassword" id="passwordField3" autocomplete="new-password" required />
            <label asp-for="Input.ConfirmPassword" ></label>
            <span asp-validation-for="Input.ConfirmPassword" ></span>
        </div>

        <div style="display:flex" id="passwordToggle" onclick="togglePasswordVisibility()">
            <input type="checkbox" id="showPassword" style="width: 13px;">
            <label style=" font-size: 13px; color: #a6a6a6; padding: 10px;">
                Show Password
            </label>
        </div>

        <div class="pass">
            <a asp-page="./Index">
                Profile
            </a>
        </div>
        <input type="submit" value="Update Password">
        <div class="signup_link">
            Done editing details? <a href="/">Return Dashboard</a>
        </div>
    </form>
</div>

<script>
    document.getElementById('passwordToggle').addEventListener('click', function () {
        var checkbox = document.getElementById('showPassword');
        checkbox.checked = !checkbox.checked;
    });
    function togglePasswordVisibility() {
        var passwordField = document.getElementById("passwordField");
        var passwordField2 = document.getElementById("passwordField2");
        var showPassword = document.getElementById("showPassword");

        if (passwordField.type === "password") {
            passwordField.type = "text";
            passwordField2.type = "text";
            passwordField3.type = "text";
            showPassword.innerText = "Hide Password";
        } else {
            passwordField.type = "password";
            passwordField2.type = "password";
            passwordField3.type = "password";
            showPassword.innerText = "Show Password";
        }
    }
</script>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
